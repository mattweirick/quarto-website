<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.550">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Matthew Weirick Johnson</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../logo.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/academicons-1.9.2/all.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/academicons-1.9.2/size.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-XN49YP77PL"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-XN49YP77PL', { 'anonymize_ip': true});
</script>


<link rel="stylesheet" href="../styles.css">
<meta property="og:title" content="Matthew Weirick Johnson">
<meta property="og:description" content="">
<meta property="og:site_name" content="Matthew Weirick Johnson">
<meta name="twitter:title" content="Matthew Weirick Johnson">
<meta name="twitter:description" content="">
<meta name="twitter:image" content="https://mattweirick.com/portraits/portrait-2.jpg">
<meta name="twitter:creator" content="@xoxoMattyBoy">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Matthew Weirick Johnson</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../research/index.html"> 
<span class="menu-text">Research</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../talks/index.html"> 
<span class="menu-text">Presentations</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../teaching.html"> 
<span class="menu-text">Teaching</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../CV/index.html"> 
<span class="menu-text">CV</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-projects" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Projects</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-projects">    
        <li>
    <a class="dropdown-item" href="../projects.html">
 <span class="dropdown-text">Projects</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../projects/project1.html">
 <span class="dropdown-text">Burnout Items</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../projects/project2.html">
 <span class="dropdown-text">Emotional Labor and Burnout Among Academic Librarians</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../projects/project3.html">
 <span class="dropdown-text">Use of the Copenhagen Burnout Inventory Among US Academic Librarians</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../blog.html"> 
<span class="menu-text">Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../training-library-instructors.html"> 
<span class="menu-text">Training Library Instructors</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-connect-with-me" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Connect with me</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-connect-with-me">    
        <li>
    <a class="dropdown-item" href="mailto:matt@mattweirick.com">
 <span class="dropdown-text"><i class="fa-solid fa-envelope fa-xl" aria-label="envelope"></i> Email</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://twitter.com/xoxoMattyBoy">
 <span class="dropdown-text"><i class="fa-brands fa-twitter fa-xl" aria-label="twitter"></i> Twitter</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://www.linkedin.com/in/matthew-w-johnson">
 <span class="dropdown-text"><i class="fa-brands fa-linkedin fa-xl" aria-label="linkedin"></i> LinkedIn</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://instagram.com/mattbrarian">
 <span class="dropdown-text"><i class="fa-brands fa-instagram fa-xl" aria-label="instagram"></i> Instagram</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://github.com/mattweirick">
 <span class="dropdown-text"><i class="fa-brands fa-github fa-xl" aria-label="github"></i> GitHub</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://scholar.google.com/citations?user=dgbjIWIAAAAJ&amp;hl=en">
 <span class="dropdown-text"><i class="ai  ai-google-scholar ai-xl"></i> Google Scholar</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://orcid.org/0000-0002-6391-2088">
 <span class="dropdown-text"><i class="ai  ai-orcid ai-xl"></i> ORCiD</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://www.webofscience.com/wos/author/record/AFE-4307-2022">
 <span class="dropdown-text"><i class="ai  ai-researcherid ai-xl"></i> Researcher ID</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="http://www.scopus.com/inward/authorDetails.url?authorI">
 <span class="dropdown-text"><i class="ai  ai-scopus ai-xl"></i> Scopus Author ID</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">




<p>Hi, I’m Matty. I’m a PhD student in Educational Measurement and Evaluation at USF, and I’m going to be talking about methodology as infrastructure. But first, back to the future.</p>
<p>For folks who don’t know, Back to the Future is a sci-fi film trilogy that involves the creation of a time traveling DeLorean and movement back and forth between time. “Roads? Where we’re going, we don’t need roads” is the final line in the first movie of the trilogy, spoken by Doc Brown, the eccentric scientist who invented the flux capacitor, which makes time travel possible. Doc’s comment is prompted by Marty McFly saying “Hey, Doc, we better back up, we don’t have enough road to get up to 88” (the magic speed at which time travel is possible). Doc puts down his futuristic sunglasses and then we see the car lift off, fly away, and then turn around to fly directly at the camera and initiate time travel, revealing that the reason they don’t need roads is because the futuristic car can now fly. In the movie the future is 2015, so we’re a bit behind on flying cars, though we now have hoverboards and electric scooters, and I’m not thrilled about it.</p>
<p>But anyway, there are many ways to think about the infrastructure present even just from this fictitious, flying, time-traveling car, such as through thinking about the manufacturing of the car itself. Brian Larkin refers to three examples of studying infrastructure as centering “built things, knowledge things, or people things.” For now, I’m interested specifically in the built things of roads, though we’ll move to thinking about the knowledge things of methodology and perhaps what that knowledge builds and how people circulate it. It’s ironic that Back to the Future, Part 1, ends on this line suggesting that we don’t need roads because Back to the Future, Part 2 begins with them arriving in the future amidst traffic of flying cars operating within lanes that look an awful lot like roads reimagined for flying cars traveling in the sky.</p>
<p>And so anyway, I wonder: what is a road or what counts as a road? And how does the sky become infrastructure? How does it become a structured and territorialized space? What is lost or gained? And what’s the real innovation of roads in the sky if they simply recreate roads on land? As we see in the movie, the boringness of our road infrastructure is recreated in the sky in order to organize and structure the travel of flying cars. This isn’t particularly novel. In fact, while it’s exciting for cars to fly, many of the benefits of flying cars are immediately eradicated when traffic and traffic laws are introduced. This is also not simply a matter of science fiction. We already have air travel, and that air travel already has its own regulations and approved flight paths.</p>
<p>Flying cars serve as a fun entry point into thinking about the boring topic of infrastructure, a way to, as Susan Leigh Star says, “restore narrative to what appears to be dead lists.” But, I want to momentarily leave roads behind, though where we’re going, we still need them, and we’ll return to roads shortly. I want to start by defining infrastructure, especially in relation to methodology, to look at how visibility and invisibility emerge in thinking about methodology as infrastructure. Through this exploration, I hope to begin pushing the metaphor of methodology as infrastructure to examine its limits and see where its helpful or not, if it is at all, for thinking about methodology.</p>
<p>Michael Crotty defines methodology as “the strategy, plan of action, process or design lying behind the choice and use of particular methods and linking the choice and use of methods to the desired outcomes” (Crotty, 1998, p.&nbsp;3). This language of lying behind and linking the choice and use of methods is particularly relevant to thinking about methodology as infrastructure. According to Susan Leigh Star, “[p]eople commonly envision infrastructure as a system of substrates—railroad lines, pipes and plumbing, electrical power plants, and wires. It is by definition invisible, part of the background for other kinds of work. It is ready-to-hand. This image holds up well enough for many purposes-turn on the faucet for a drink of water and you use a vast infrastructure of plumbing and water regulation without usually thinking much about it.” These aspects of transparency, invisibility, and regulation will become more apparent, but for now, we can see how methodology, like infrastructure (or infrastructure like methodology), undergirds a world of doing, which we can see in turning on the tap, connecting to WiFI, or using methods. These actions rely on certain infrastructures.</p>
<p>Susan Leigh Star identifies nine properties of infrastructure: embeddedness, transparency, reach or scope, it’s learned as part of membership, it links with conventions of practice, its embodiment of standards, it is built on an installed base, it becomes visible upon breakdown, and it is fixed in modular increments, not all at once or globally. To demonstrate methodology’s resonances or dissonances with these properties, I want to explore methodology as infrastructure through four properties in particular regarding transparency, invisibility, learning, and fixing.</p>
<p>Star describes transparency in relation to infrastructure “in the sense that it does not have to be reinvented each time or assembled for each task but invisibly supports those tasks.” We can see immediately how these properties overlap, but we can also think about the reuse of methodology (and perhaps the way that methodology allows for the reuse of methods). Susan Naomi Nordstrom, in her presentation of antimethodology, argues that “each iteration of antimethedology materializes from the forces at work in a research context.” That is, that antimethodology (which is still described as a methodology) is not transparent, but rather demands reinvention. In this sense then, antimethodology disrupts methodology as infrastructure, disorienting researchers as methodological subjects by forcing methodology to be rethought with each study. The ease afforded through methodology’s transparency as a form of infrastructure is lost but antimethodology provides a creative, generative, and innovative diversion.</p>
<p>Star’s claim that infrastructure becomes visible when it breaks down is one of the most discussed and perhaps contentious of her properties of infrastructure. If we think back to roads, maybe the roads themselves are always visible, but they take on a new form of visibility when you drive over a pothole or when a hurricane knocks out the power across an entire city and the traffic lights no longer work, which also introduces lights as part of the infrastructure of roads. For things like WiFi, undersea cables, or supply chain networks the infrastructures may be less readily visible to us, but we are brought to awareness in their disruption. Star points out that “[t]he image [of infrastructure] becomes more complicated when one begins. . .to examine the situations of those who are <em>not</em> served by a particular infrastructure. . .[f]or the person in a wheelchair, the stairs and doorjamb in front of a building are not seamless subtenders of use, but barriers.” Returning to the faucet, for individuals in Flint, Michigan, turning on a faucet delivers contaminated water, demonstrating how infrastructure’s invisibility is also stratified by race and class. Brian Larkin, studying infrastructure in Nigeria, demonstrates how these infrastructural projects were meant to be visible and were in fact made hypervisibile. He says “[w]hen British colonialists built radio networks or mobile cinemas, for instance, they did so with the intention of educating and developing Nigerians into ‘modern’ colonial citizens.” Infrastructure then exists to be publicly visible as a mode of colonial control and authority in order to craft a specific colonial subjectivity. For methodology as infrastructure then, we also need to consider how methodology may be used to control acceptable methods or knowledge claims. When methodology is specifically made visible, is it made so as a mode of control? As an assertion of a dominant mode of doing? Betty St.&nbsp;Pierre has critiqued how humanist social science methodology limits what can be thought. In this sense, methodology as infrastructure constructs a specific methodological subjectivity. Nordstrom identifies conventional qualitative inquiry as an example of reterritorializing forces and poststructural and posthuman theories as deterritorializing forces. Through these deterritorializing forces, research conventions become more malleable. In this sense, we might see methodology as infrastructure as a reterritorializing that introduces hierarchies, that is sedentary, that firms up the space of methodology.</p>
<p>In her critique, St.&nbsp;Pierre also argues that methodology is overtaught. For Susan Leigh Star, infrastructure is learned as part of membership. As doctoral students become members of their fields, we are initiated into methodology, through academic socialization. “New participants acquire a naturalized familiarity with [infrastructure’s] objects as they become members.” Through this naturalization process, infrastructure becomes invisible and transparent to members or to researchers in the case of methodology as infrastructure.</p>
<p>Finally, infrastructure is fixed in modular increments, not all at once or globally. For methodology, we see this in incremental changes in methodology through proposals in scholarly works that push methodology forward. Star argues that “[c]hanges take time and negotiation, and adjustment with other aspects of the systems are involved.” As infrastructure, changes to methodology require conversation within methodology’s membership (among methodologists or practitioners) through scholarly modes in order to advance.</p>
<p>While exploring methodology through each of these properties of infrastructure could be valuable. I want to shift to consider how thinking about methodology as infrastructure structures the space of methodology. In thinking about the transparency of infrastructure, I’ve already alluded to the ways in which having existing methodologies either as strict templates or as fluid decision-making processes might make learning about methodology or about how to do research easier. I think the image of scaffolding may be helpful here. And we can think about scaffolding as an infrastructure employed in the building process, as a structure for infrastructure’s construction, or in an educational context as a way of providing support as students learn new concepts. Through this thinking, we may see methodology as infrastructure, especially in its most structured form, as a teaching tool that aides learning, while recognizing that as students of methodology become more proficient, they may operate independently of the infrastructure.</p>
<p>(To wrap up) I want to return briefly to roads by considering a poem. The Road Not Taken by Robert Frost is one of the most if not the most popular American poem. Three of its lines have been used extensively on motivational posters: “Two roads diverged in a wood, and I— / I took the one less traveled by, / And that has made all the difference.” Poetry provides an opportunity for interpretation, for different readings, for individuals to engage differently with language. If we read these three lines alone, we’re left with a sense that our individual actions make a considerable difference. Choosing between these two roads is of considerable importance and specifically, choosing the road less traveled makes a difference. If we read the entire poem, we see that the two roads were not all that different to begin with: “Though as for that the passing there / Had worn them really about the same, And both that morning equally lay / In leaves no step had trodden black.” We might instead read the poem as making fun of the speaker’s indecision. They’re spending a lot of time looking down to roads that are essentially the same struggling to decide between them. If we read Robert Frost as suggesting that our choices don’t matter, then maybe we open up the opportunity to wander. Sara Ahmed, in thinking about orientation and disorientation, reminds us that “we can get directed by losing our sense of direction,” that “at times, we don’t know that we have followed a path,” and sometimes a particular path or direction by come as a gift or a loss. We might chart a new course that turns out not to be new at all. We might take a chance that turns into a huge success or a massive failure. The infrastructure of these prior paths provides a built system through which to travel, which makes travel quicker, simpler, easier, and dependable but the path may change minimally and the destination may be the same. How then might disorientation provide a means of exploration? Without doing whatever the methodological version of colonizing Mars would be.</p>
<p>In ending with the flexible interpretation of poetry, I hope to also leave open the interpretation of methodology as infrastructure. To leave space for people who want to blow up the pipeline of methodology and for those who appreciate the structure and support that methodology provides. Thank you.</p>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>